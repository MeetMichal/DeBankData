@using DeBankUI.Components;
@using LiveChartsCore.SkiaSharpView.Blazor
@page "/michal/stream-activity"

<MudGrid>
    <MudItem xs="6">
        <MudCard Outlined Square Style="background: var(--mud-palette-background-grey)">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudStack Justify="Justify.SpaceAround" Row=true>
                        <MudText Typo="Typo.h6">Total Stream activity</MudText>
                    </MudStack>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent style="height:600px">
                 <DeBankUI.Shared.Michal.StreamActivityTotalChart @ref="streamActivityTotalChart">

                </DeBankUI.Shared.Michal.StreamActivityTotalChart>
            </MudCardContent>
            <MudCardActions>
                 <MudButton StartIcon="@Icons.Material.Filled.FileDownload" Class="rounded-0" Variant="Variant.Outlined" OnClick="@(async () => await DownloadChartData(streamActivityTotalChart, "StreamActivityTotalChart.csv"))" Color="Color.Primary">Get data</MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
    <MudItem xs="6">
         <MudCard Outlined Square Style="background: var(--mud-palette-background-grey)">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudStack Justify="Justify.SpaceAround" Row=true>
                        <MudText Typo="Typo.h6">Daily Stream activity</MudText>
                    </MudStack>
                </CardHeaderContent>
            </MudCardHeader>
            <MudCardContent style="height:600px">
                 <DeBankUI.Shared.Michal.StreamActivityDailyChart @ref="streamActivityDailyChart">

                 </DeBankUI.Shared.Michal.StreamActivityDailyChart>
            </MudCardContent>
            <MudCardActions>
                 <MudButton StartIcon="@Icons.Material.Filled.FileDownload" Class="rounded-0" Variant="Variant.Outlined" OnClick="@(async () => await DownloadChartData(streamActivityDailyChart, "StreamActivityDailyChart.csv"))" Color="Color.Primary">Get data</MudButton>
            </MudCardActions>
        </MudCard>
    </MudItem>
     <MudItem xs="6">
         <MudCard Outlined Square Style="background: var(--mud-palette-background-grey)">
             <MudCardHeader>
                 <CardHeaderContent>
                     <MudStack Justify="Justify.SpaceAround" Row=true>
                         <MudText Typo="Typo.h6">Posts distribution</MudText>
                     </MudStack>
                 </CardHeaderContent>
             </MudCardHeader>
             <MudCardContent style="height:600px">
                 <DeBankUI.Shared.Michal.StreamActivityHistogram @ref="streamActivityHistogram">

                 </DeBankUI.Shared.Michal.StreamActivityHistogram>
             </MudCardContent>
             <MudCardActions>
                 <MudButton StartIcon="@Icons.Material.Filled.FileDownload" Class="rounded-0" Variant="Variant.Outlined" OnClick="@(async () => await DownloadChartData(streamActivityHistogram, "StreamActicityHistogram.csv"))" Color="Color.Primary">Get data</MudButton>
             </MudCardActions>
         </MudCard>
     </MudItem>
</MudGrid>

